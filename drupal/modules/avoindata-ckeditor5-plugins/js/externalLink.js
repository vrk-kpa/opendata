!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.externalLink=e())}(self,(()=>(()=>{var __webpack_modules__={"./src/externalLink/externalLink.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ExternalLink)\n/* harmony export */ });\n/* harmony import */ var ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ckeditor5/src/core */ \"ckeditor5/src/core.js\");\n\n\nclass ExternalLink extends ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n\tinit() {\n\t\tconsole.log('ExternalLink loaded')\n\t\tconst editor = this.editor;\n\t\tconst { model } = editor;\n\n\t\t// `listenTo()` and `editor` are available thanks to `Plugin`.\n\t\t// By using `listenTo()` you will ensure that the listener is removed when\n\t\t// the plugin is destroyed.\n\t\tthis.listenTo(editor.data, 'ready', () => {\n\t\t\tconst linkCommand = editor.commands.get('link');\n\t\t\tconst decorator = linkCommand.manualDecorators.get('linkIsExternal')\n\t\t\tconst selection = editor.model.document.selection;\n\n\t\t\tconsole.log(decorator)\n\n\t\t\t// Override default link manual decorator conversion to add an icon after the link\n\t\t\teditor.conversion.for( 'downcast' ).attributeToElement( {\n\t\t\t\tmodel: 'linkIsExternal',\n\t\t\t\tview: ( manualDecoratorValue, { writer, schema }, { item } ) => {\n\t\t\t\t\t// Manual decorators for block links are handled e.g. in LinkImageEditing.\n\t\t\t\t\tif ( !( item.is( 'selection' ) || schema.isInline( item ) ) ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( manualDecoratorValue ) {\n\t\t\t\t\t\tconst element = writer.createAttributeElement( 'a', decorator.attributes, { priority: 5 } );\n\n\t\t\t\t\t\tif ( decorator.classes ) {\n\t\t\t\t\t\t\twriter.addClass( decorator.classes, element );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( const key in decorator.styles ) {\n\t\t\t\t\t\t\twriter.setStyle( key, decorator.styles[ key ], element );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twriter.setCustomProperty( 'link', true, element );\n\n\t\t\t\t\t\treturn element;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tthis.listenTo(linkCommand, 'execute', (evt, params) => {\n\t\t\t\tconst linkIsExternal = params[1]['linkIsExternal']\n\t\t\t\tconsole.log(evt)\n\t\t\t\tconsole.log(params)\n\t\t\t\tconsole.log('linkIsExternal', linkIsExternal)\n\t\t\t\tconsole.log('source', evt.source)\n\n\t\t\t\tif (linkIsExternal) {\n\t\t\t\t\tconsole.log('external link')\n\t\t\t\t\tconsole.log(editor.model.schema)\n\t\t\t\t\teditor.model.change(writer => {\n\t\t\t\t\t\tconsole.log('foo')\n\t\t\t\t\t\twriter.appendText('test', selection)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('not an external link')\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t}\n\n\tstatic get pluginName() {\n\t\treturn 'ExternalLink';\n\t}\n}\n\n//# sourceURL=webpack://CKEditor5.externalLink/./src/externalLink/externalLink.js?")},"./src/externalLink/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _externalLink__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./externalLink */ "./src/externalLink/externalLink.js");\n/**\n * @file The build process always expects an index.js file. Anything exported\n * here will be recognized by CKEditor 5 as an available plugin. Multiple\n * plugins can be exported in this one file.\n *\n * I.e. this file\'s purpose is to make plugin(s) discoverable.\n */\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  ExternalLink: _externalLink__WEBPACK_IMPORTED_MODULE_0__["default"],\n});\n\n\n//# sourceURL=webpack://CKEditor5.externalLink/./src/externalLink/index.js?')},"ckeditor5/src/core.js":(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ "dll-reference CKEditor5.dll"))("./src/core.js");\n\n//# sourceURL=webpack://CKEditor5.externalLink/delegated_./core.js_from_dll-reference_CKEditor5.dll?')},"dll-reference CKEditor5.dll":t=>{"use strict";t.exports=CKEditor5.dll}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/externalLink/index.js");return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));